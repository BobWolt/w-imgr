import a from"axios";$(document).ready((function(){var n=!1;const s=$("div").filter((function(){return"none"!==$(this).css("background-image")})),e=Object.values(s);e.forEach((a=>{const n=Math.floor(Math.random()*e.length),s=`btn-${n}`,t=`\n        <button id="${s}" class="splash_btn">\n          <img class="btn_icon" src="./images/edit.svg" />\n        </button>\n      `,i=`.${a.className}`;$(i).append(t),$(`#${s}`).parent().attr("id",`img-${n}`)}));let t=-1,i=1;const o=async function(n,s){a.get("/api/unsplash",{headers:{query:n,page:i}}).then((a=>{!function(a,n){const s=a.results;let e=-1;s.forEach((()=>{e++,t++;const a=s[e].urls.thumb,n=s[e].urls.full;console.log("idindex",t);const i=`\n      <div class="image_wrapper">\n        <div class="unsplash_image" id="unsplash-img-${t}"></div>\n        <div class="attribution_wrapper">\n          <h5 class="creator_name">Photo by:<a class="attribution_link" target="_blank" href="${s[e].links.html}">&nbsp${s[e].user.name}</a></h5>\n          <h5 class="unsplash_link">\n            <a href="https://unsplash.com" target="_blank">Unsplash</a>\n          </h5>\n        </div>\n      </div>\n      `;$(".image_container").append(i),$(`#unsplash-img-${t}`).css("background-image",`url(${a})`),$(`#unsplash-img-${t}`).attr("data",`${n}`)})),$(".unsplash_image").click((function(){$(".image_wrapper_selected").removeClass("image_wrapper_selected"),$(this).parent().addClass("image_wrapper_selected"),(async()=>{const a=new Image;a.src=`${$(this).attr("data")}`,$(`#btn-${n}`).append($("<div>").addClass("w-imgr_loading_animation")),$(`#btn-${n}`).append($("<h5>Loading</h5>").addClass("loading_text")),await a.decode(),$(".w-imgr_loading_animation").remove(),$(".loading_text").remove(),$(`#img-${n}`).css("background-image",`url(${$(this).attr("data")}`),console.log(`width: ${a.width}, height: ${a.height}`)})()})),e=-1}(a,s),console.log("images amount: ",$(".unsplash_image").length),i++,console.log("response",a)})).catch((function(){}))},r=function(){i=1,$(".modal_wrapper").removeClass("modal_animation"),$(".modal_wrapper").addClass("modal_animation_remove"),n=!1,setTimeout((function(){$(".modal_wrapper").remove()}),800)},l=function(a){console.log("clicked",a),n=!0;const s=$(a).attr("id").slice(4);console.log(a.parent());const e=`\n    <div class="modal_wrapper modal_animation">\n      <div class="modal_header_wrapper">\n        <img class="w-imgr_logo" src="./images/w-imgr-logo.svg">\n        <h4 class="w-imgr_current_el">Editing: ${a.parent()[0].className}</h4>\n        <div class="w-imgr_modal_controls_wrapper">\n          <button class="close_modal_btn">Close</button>\n        </div>\n      </div>\n      <div class="form_wrapper">\n        <form id="form-image-search">\n          <input\n            class="search_bar"\n            type="text"\n            placeholder="Search for images"\n          />\n        </form>\n      </div>\n      <div class="image_container"></div>\n      <div class="more_btn_wrapper"></div>\n    </div>\n    `;$("body").append(e),$(".search_bar").focus(),$("#form-image-search").submit((function(a){a.preventDefault(),o($(".search_bar").val(),s),$(".more_btn").css("display","flex")})),$(".more_btn_wrapper").append('<button class="more_btn small_btn"><img class="btn_icon btn_icon_margin" src="./images/image.svg" />Load more</button>'),$(".more_btn").click((function(){o($(".search_bar").val(),s)})),$(".close_modal_btn").click((function(){r()}))};$(".splash_btn").click((function(){const a=$(this);n?(r(),setTimeout((function(){l(a)}),800)):l(a)}))}));